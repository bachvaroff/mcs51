0000:              .equ     cin, 0x0032
0000:              .equ     cout, 0x0030
0000:              .equ     phex, 0x0034
0000:              .equ     phex16, 0x0036
0000:              .equ     nl, 0x0048
                   
2000:              .org     0x2000
                   
                   test:
                   ;--------------------------------
2000: C2 92                 clr     p1.2
2002: 78 55                 mov     r0, #0x55
2004: 79 60                 mov     r1, #0x60
2006: 7E 00                 mov     r6, #0x00
2008: 7F 40                 mov     r7, #0x40
200A: 31 32                 acall   test_page
200C: 78 AA                 mov     r0, #0xaa
200E: 79 60                 mov     r1, #0x60
2010: 7E 00                 mov     r6, #0x00
2012: 7F 40                 mov     r7, #0x40
2014: 31 32                 acall   test_page
2016: D2 92                 setb    p1.2
2018: 78 55                 mov     r0, #0x55
201A: 79 60                 mov     r1, #0x60
201C: 7E 00                 mov     r6, #0x00
201E: 7F 40                 mov     r7, #0x40
2020: 31 32                 acall   test_page
2022: 78 AA                 mov     r0, #0xaa
2024: 79 60                 mov     r1, #0x60
2026: 7E 00                 mov     r6, #0x00
2028: 7F 40                 mov     r7, #0x40
202A: 31 32                 acall   test_page
202C: 12 00 48              lcall   nl
202F: 12 00 32              lcall   cin
                   ;--------------------------------
2032: C2 93                 clr     p1.3
2034: 78 55                 mov     r0, #0x55
2036: 79 80                 mov     r1, #0x80
2038: 7E 00                 mov     r6, #0x00
203A: 7F 60                 mov     r7, #0x60
203C: 31 32                 acall   test_page
203E: 78 AA                 mov     r0, #0xaa
2040: 79 80                 mov     r1, #0x80
2042: 7E 00                 mov     r6, #0x00
2044: 7F 60                 mov     r7, #0x60
2046: 31 32                 acall   test_page
2048: D2 93                 setb    p1.3
204A: 78 55                 mov     r0, #0x55
204C: 79 80                 mov     r1, #0x80
204E: 7E 00                 mov     r6, #0x00
2050: 7F 60                 mov     r7, #0x60
2052: 31 32                 acall   test_page
2054: 78 AA                 mov     r0, #0xaa
2056: 79 80                 mov     r1, #0x80
2058: 7E 00                 mov     r6, #0x00
205A: 7F 60                 mov     r7, #0x60
205C: 31 32                 acall   test_page
205E: 12 00 48              lcall   nl
2061: 12 00 32              lcall   cin
                   ;--------------------------------
2064: C2 94                 clr     p1.4
2066: 78 55                 mov     r0, #0x55
2068: 79 A0                 mov     r1, #0xa0
206A: 7E 00                 mov     r6, #0x00
206C: 7F 80                 mov     r7, #0x80
206E: 31 32                 acall   test_page
2070: 78 AA                 mov     r0, #0xaa
2072: 79 A0                 mov     r1, #0xa0
2074: 7E 00                 mov     r6, #0x00
2076: 7F 80                 mov     r7, #0x80
2078: 31 32                 acall   test_page
207A: D2 94                 setb    p1.4
207C: 78 55                 mov     r0, #0x55
207E: 79 A0                 mov     r1, #0xa0
2080: 7E 00                 mov     r6, #0x00
2082: 7F 80                 mov     r7, #0x80
2084: 31 32                 acall   test_page
2086: 78 AA                 mov     r0, #0xaa
2088: 79 A0                 mov     r1, #0xa0
208A: 7E 00                 mov     r6, #0x00
208C: 7F 80                 mov     r7, #0x80
208E: 31 32                 acall   test_page
2090: 12 00 48              lcall   nl
2093: 12 00 32              lcall   cin
                   ;--------------------------------
2096: C2 95                 clr     p1.5
2098: 78 55                 mov     r0, #0x55
209A: 79 C0                 mov     r1, #0xc0
209C: 7E 00                 mov     r6, #0x00
209E: 7F A0                 mov     r7, #0xa0
20A0: 31 32                 acall   test_page
20A2: 78 AA                 mov     r0, #0xaa
20A4: 79 C0                 mov     r1, #0xc0
20A6: 7E 00                 mov     r6, #0x00
20A8: 7F A0                 mov     r7, #0xa0
20AA: 31 32                 acall   test_page
20AC: D2 95                 setb    p1.5
20AE: 78 55                 mov     r0, #0x55
20B0: 79 C0                 mov     r1, #0xc0
20B2: 7E 00                 mov     r6, #0x00
20B4: 7F A0                 mov     r7, #0xa0
20B6: 31 32                 acall   test_page
20B8: 78 AA                 mov     r0, #0xaa
20BA: 79 C0                 mov     r1, #0xc0
20BC: 7E 00                 mov     r6, #0x00
20BE: 7F A0                 mov     r7, #0xa0
20C0: 31 32                 acall   test_page
20C2: 12 00 48              lcall   nl
20C5: 12 00 32              lcall   cin
                   ;--------------------------------
20C8: C2 96                 clr     p1.6
20CA: 78 55                 mov     r0, #0x55
20CC: 79 E0                 mov     r1, #0xe0
20CE: 7E 00                 mov     r6, #0x00
20D0: 7F C0                 mov     r7, #0xc0
20D2: 31 32                 acall   test_page
20D4: 78 AA                 mov     r0, #0xaa
20D6: 79 E0                 mov     r1, #0xe0
20D8: 7E 00                 mov     r6, #0x00
20DA: 7F C0                 mov     r7, #0xc0
20DC: 31 32                 acall   test_page
20DE: D2 96                 setb    p1.6
20E0: 78 55                 mov     r0, #0x55
20E2: 79 E0                 mov     r1, #0xe0
20E4: 7E 00                 mov     r6, #0x00
20E6: 7F C0                 mov     r7, #0xc0
20E8: 31 32                 acall   test_page
20EA: 78 AA                 mov     r0, #0xaa
20EC: 79 E0                 mov     r1, #0xe0
20EE: 7E 00                 mov     r6, #0x00
20F0: 7F C0                 mov     r7, #0xc0
20F2: 31 32                 acall   test_page
20F4: 12 00 48              lcall   nl
20F7: 12 00 32              lcall   cin
                   ;--------------------------------
20FA: C2 97                 clr     p1.7
20FC: 78 55                 mov     r0, #0x55
20FE: 79 00                 mov     r1, #0x00
2100: 7E 00                 mov     r6, #0x00
2102: 7F E0                 mov     r7, #0xe0
2104: 31 32                 acall   test_page
2106: 78 AA                 mov     r0, #0xaa
2108: 79 00                 mov     r1, #0x00
210A: 7E 00                 mov     r6, #0x00
210C: 7F E0                 mov     r7, #0xe0
210E: 31 32                 acall   test_page
2110: D2 97                 setb    p1.7
2112: 78 55                 mov     r0, #0x55
2114: 79 00                 mov     r1, #0x00
2116: 7E 00                 mov     r6, #0x00
2118: 7F E0                 mov     r7, #0xe0
211A: 31 32                 acall   test_page
211C: 78 AA                 mov     r0, #0xaa
211E: 79 00                 mov     r1, #0x00
2120: 7E 00                 mov     r6, #0x00
2122: 7F E0                 mov     r7, #0xe0
2124: 31 32                 acall   test_page
2126: 12 00 48              lcall   nl
2129: 12 00 32              lcall   cin
                   ;--------------------------------
212C: 43 87 02              orl     pcon, #2
212F: 02 00 00              ljmp    0x0000
                   
                   ;--------
                   ; r0 = fill byte; r1 = final dph; r6 = dpl; r7 = dph
                   test_page:
2132: 8E 82                 mov     dpl, r6
2134: 8F 83                 mov     dph, r7
2136: 31 3F                 acall   fill
2138: 8E 82                 mov     dpl, r6
213A: 8F 83                 mov     dph, r7
213C: 31 48                 acall   dump
213E: 22                    ret
                   ;--------
                            
                   ;--------
                   fill:
213F: E8                    mov     a, r0
2140: F0                    movx    @dptr, a
2141: A3                    inc     dptr
2142: E5 83                 mov     a, dph
2144: 69                    xrl     a, r1
2145: 70 F8                 jnz     fill
2147: 22                    ret
                   ;--------
                   
                   ;--------
                   dump:
2148: 12 00 36              lcall   phex16
214B: 74 20                 mov     a, #' '
214D: 12 00 30              lcall   cout    
                   dumpb:
2150: E0                    movx    a, @dptr
2151: 12 00 34              lcall   phex
2154: A3                    inc     dptr
2155: E5 82                 mov     a, dpl
2157: 54 1F                 anl     a, #0x1f
2159: 70 05                 jnz     print_sp
215B: 12 00 48              lcall   nl
215E: 80 07                 sjmp    next
                   print_sp:
2160: 74 20                 mov     a, #' '
2162: 12 00 30              lcall   cout
2165: 80 E9                 sjmp    dumpb
                   next:
2167: E5 83                 mov     a, dph
2169: 69                    xrl     a, r1
216A: 70 DC                 jnz     dump
216C: 22                    ret
                   ;--------
                   
